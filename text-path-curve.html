<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
    box-sizing: border-box;
    font-family: 'Roboto', sans-serif;
    font-weight: 300;
    user-select: none;
    scroll-behavior: smooth;
}
tspan.Marquee-svg-text {
    font-size: 168px;
    font-weight: 900;
}
h2 {
    text-align: center;
    margin: 2rem 0;
}

p {
    margin: 4rem 3rem;
    text-align: justify;
}
    </style>
</head>
<body>
    <h2>Enjoy the scroll ðŸ‘‡</h2>

    <p>Here is a small demonstration of SVG text-path animation on scroll.This was mainly inspired from <a href="https://www.nytimes.com/interactive/2019/07/22/us/politics/elizabeth-warren-selfies.html"> this article</a> and from <a href="https://codepen.io/team/keyframers/pen/NWKyNqK">this pen<a/>.</p>
        
    <p>Start off by creating a SVG path and put the code in the place where you want to render the text animation. Also, don't forget to remove the unnecessary attributes.
    
    <br /><br />
    
    Add "id" to both SVG and textPath so that we can add animations to these elements later using javascript.
    
    <br /><br />
    
    Calculate the path length and set the offset for the textPath equal to that of the text length so that it'll be offscreen before you start to scroll.
    
    <br /><br />
        
    Then calculate the scroll% by getting SVG position (Y-axis) and the window-height. Then just set the offset of the text-path equal to that of the scroll% of the total path length.
        
    <br /><br />
        
    I've multiplied it by two so that the whole transition takes place while the user is scrolling.
    </p>
    
    <!-- <svg id="text-container" viewBox="0 0 1000 200" xmlns="http://www.w3.org/2000/svg">
      <path id="text-curve" d="M0 100s269.931 86.612 520 0c250.069-86.612 480 0 480 0" fill="none" />
      <text y="40" font-size="28">
        <textPath id="text-path" href="#text-curve" startOffset="200">
          â˜® Wubba lubba dub dub â˜®
        </textPath>
      </text>
    </svg> -->
    <svg id="text-container" class="Marquee-svg" fill="currentColor" aria-hidden="true" style="height: 367px; transform: translateY(21.7px); overflow: visible;">
        <g class="Marquee-path-group" transform="translate(0, 10.850000000000001)">
          <path id="text-curve" class="Marquee-path" fill="none" stroke="transparent" stroke-width="0" d="M-550,143.654  L-550,143.654 S-183.15,293.654 0,293.654 S366.85,143.654 550,143.654 S916.85,293.654 1100,293.654 S1466.85,143.654 1650,143.654 S2016.85,293.654 2200,293.654" stroke-dasharray="1752 77.4 " id="yui_3_17_2_1_1718903126363_6740" stroke-dashoffset="684"></path>
        </g>
        <text>
          <textPath id="text-path"class="Marquee-svg-text" href="#yui_3_17_2_1_1718903126363_6740" startOffset="-684"><tspan class="Marquee-svg-text" x="0" style="display: block;">LET'S BREW TOGETHER</tspan><tspan class="Marquee-svg-text" x="1829.4" style="display: block;">LET'S BREW TOGETHER</tspan><tspan class="Marquee-svg-text" x="3658.8" style="display: none;">LET'S BREW TOGETHER</tspan><tspan class="Marquee-svg-text" x="5488.200000000001" style="display: none;">LET'S BREW TOGETHER</tspan><tspan class="Marquee-svg-text" x="7317.6" style="display: none;">LET'S BREW TOGETHER</tspan><tspan class="Marquee-svg-text" x="9147" style="display: none;">LET'S BREW TOGETHER</tspan><tspan class="Marquee-svg-text" x="10976.4" style="display: none;">LET'S BREW TOGETHER</tspan><tspan class="Marquee-svg-text" x="12805.8" style="display: none;">LET'S BREW TOGETHER</tspan><tspan class="Marquee-svg-text" x="14635.199999999999" style="display: none;">LET'S BREW TOGETHER</tspan><tspan class="Marquee-svg-text" x="16464.6" style="display: none;">LET'S BREW TOGETHER</tspan><tspan class="Marquee-svg-text" x="18294" style="display: none;">LET'S BREW TOGETHER</tspan><tspan class="Marquee-svg-text" x="20123.4" style="display: none;">LET'S BREW TOGETHER</tspan></textPath>
        </text>
        <text>
          <textPath id="text-path"class="Marquee-svg-group" visibility="hidden" href="#yui_3_17_2_1_1718903126363_6740">
            
              <tspan class="Marquee-svg-text">LET'S BREW TOGETHER</tspan>
            
          </textPath>
        </text>
        <g class="Marquee-hitbox" data-hitbox="" aria-labelledby="ariaLabelyui_3_17_2_1_1718903126363_6740">
          <g class="Marquee-path-hitbox-group" transform="translate(0, -35.9135)">
            <path class="Marquee-path-hitbox" fill="none" stroke="transparent" d="M-550,143.654  L-550,143.654 S-183.15,293.654 0,293.654 S366.85,143.654 550,143.654 S916.85,293.654 1100,293.654 S1466.85,143.654 1650,143.654 S2016.85,293.654 2200,293.654" id="yui_3_17_2_1_1718903126363_6740" stroke-width="217"></path>
            <path class="Marquee-path-hitbox-focus-outline" fill="none" stroke="transparent" stroke-width="2px" d="
      M-550,367
       L-550,195.3 S-183.15,345.3 0,345.3 S366.85,195.3 550,195.3 S916.85,345.3 1100,345.3 S1466.85,195.3 1650,195.3 S2016.85,345.3 2200,345.3
      M-550,150
       L-550,21.700000000000003 S-183.15,171.7 0,171.7 S366.85,21.700000000000003 550,21.700000000000003 S916.85,171.7 1100,171.7 S1466.85,21.700000000000003 1650,21.700000000000003 S2016.85,171.7 2200,171.7
    " style="transform: translateY(21.7px);"></path>
          </g>
        </g>
      </svg>
    
    <p>RANDOM TEXT<br />Vestibulum nunc massa, gravida quis porta nec, feugiat id metus. Nunc ac arcu dolor, quis vestibulum leo. Cras viverra mollis ipsum, non rhoncus lectus aliquam et. Morbi faucibus purus sit amet lacus aliquet elementum. Donec sit amet posuere enim. Cras in eros id tortor fringilla ultricies. Mauris faucibus ullamcorper velit, pulvinar varius odio eleifend eu. Quisque id odio metus. Morbi adipiscing ultricies posuere. Pellentesque elementum porttitor eros in molestie. Maecenas ut leo quis nisi tempor tincidunt.</p>
    
    <p>Donec nunc ligula, vulputate quis mollis eu, interdum quis libero. Donec nulla ante, facilisis sit amet vulputate at, tincidunt a velit. Maecenas vestibulum, nulla sed tincidunt viverra, lorem turpis aliquam urna, ut pretium orci purus consequat augue. Etiam a enim orci, vitae pulvinar odio. In elit urna, tincidunt a pellentesque et, scelerisque at nibh. Sed nec est sapien. Aliquam ullamcorper eros eu quam ultrices vel faucibus eros interdum. Etiam mattis eleifend sapien, eu iaculis massa feugiat sed. Aliquam erat volutpat. Vivamus facilisis ultricies eros, a pretium purus mollis id. Sed dapibus elit ut neque rutrum dignissim. Nulla eros nisl, venenatis quis rhoncus sit amet, molestie nec nisl. Pellentesque vel neque sapien, et sagittis nulla.</p>
    
    <p>Aliquam eu iaculis mauris. Etiam arcu lectus, imperdiet sit amet volutpat vitae, commodo sed nibh. Fusce faucibus tempor cursus. Donec ut ligula tortor. Maecenas malesuada, diam vitae pharetra dictum, erat ante iaculis risus, sed sollicitudin nisl nisl vel metus. Nulla libero augue, convallis nec luctus id, iaculis nec urna. Cras vitae mi ut augue ultricies tempus.</p>
    
    <p>Vestibulum euismod vehicula sollicitudin. Duis nibh justo, rhoncus ac ullamcorper nec, rutrum sit amet leo. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum varius posuere nisi sed aliquet. Etiam dolor nisi, placerat vel congue tempus, posuere sed erat. Phasellus turpis eros, molestie sed consequat in, pretium at erat. In sed faucibus metus. Vestibulum fermentum libero nec eros fermentum dapibus. Duis nec libero eros. Pellentesque magna ligula, sagittis dictum fringilla at, posuere porttitor sem. Donec aliquam, ipsum quis pulvinar dapibus, augue sem viverra sapien, nec tempus odio nulla ac metus. Nunc ut augue mi, nec consequat urna.</p> 

    <script>

console.clear();

var textPath = document.querySelector("#text-path");
var path = document.querySelector(textPath.getAttribute('href'));
var pathLength = path.getTotalLength();

const updateTextPathOffset = (offset) => {
    textPath.setAttribute('startOffset', offset);
}

const animateTextPath = (timestamp) => {
    if (!animateTextPath.startTime) {
        animateTextPath.startTime = timestamp;
    }
    var elapsedTime = timestamp - animateTextPath.startTime;
    var speed = 0.03; // Adjust speed of animation here
    var maxOffset = -600; // Target negative offset
    var offset = (elapsedTime * speed / 1) % (pathLength - maxOffset);

    // Update offset to smoothly transition from 0 to -600
    if (offset >= 0 && offset <= pathLength - maxOffset) {
        offset = -offset;
    }

    updateTextPathOffset(offset);

    // Continue the animation loop
    requestAnimationFrame(animateTextPath);
}

// Start the animation loop
requestAnimationFrame(animateTextPath);


    </script>
</body>
</html>
